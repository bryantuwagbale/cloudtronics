import{UPDATE_PRODUCTS,UPDATE_CATEGORIES,UPDATE_CURRENT_CATEGORY,ADD_TO_CART,ADD_MULTIPLE_TO_CART,REMOVE_FROM_CART,UPDATE_CART_QUANTITY,CLEAR_CART,TOGGLE_CART}from"./actions";const defaultState={products:[],categories:[],currentCategory:"",cart:[],cartOpen:!1};export const reducers=(r=defaultState,t)=>{switch(t.type){case UPDATE_PRODUCTS:return{...r,products:[...t.products]};case UPDATE_CATEGORIES:return{...r,categories:[...t.categories]};case UPDATE_CURRENT_CATEGORY:return{...r,currentCategory:t.currentCategory};case ADD_TO_CART:return{...r,cartOpen:!0,cart:[...r.cart,t.product]};case ADD_MULTIPLE_TO_CART:return{...r,cart:[...r.cart,...t.products]};case REMOVE_FROM_CART:let e=r.cart.filter(r=>r._id!==t._id);return{...r,cartOpen:e.length>0,cart:e};case UPDATE_CART_QUANTITY:return{...r,cartOpen:!0,cart:r.cart.map(r=>(t._id===r._id&&(r.purchaseQuantity=t.purchaseQuantity),r))};case CLEAR_CART:return{...r,cartOpen:!1,cart:[]};case TOGGLE_CART:return{...r,cartOpen:!r.cartOpen};default:return r}};